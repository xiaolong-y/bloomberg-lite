# Metric Configuration Schema
# Each metric defines: identifier, display name, data source, and optional transforms

defaults:
  cache_hours: 6
  history_points: 120  # ~10 years monthly data

metrics:
  # ============================================
  # UNITED STATES (via FRED)
  # ============================================
  - id: us.fed_funds
    name: "Fed Funds Rate"
    source: fred
    series_id: FEDFUNDS
    frequency: monthly
    unit: "%"
    decimals: 2

  - id: us.cpi_yoy
    name: "US CPI YoY"
    source: fred
    series_id: CPIAUCSL
    frequency: monthly
    unit: "%"
    decimals: 1
    transform: yoy_percent

  - id: us.core_cpi_yoy
    name: "US Core CPI YoY"
    source: fred
    series_id: CPILFESL
    frequency: monthly
    unit: "%"
    decimals: 1
    transform: yoy_percent

  - id: us.unemployment
    name: "US Unemployment"
    source: fred
    series_id: UNRATE
    frequency: monthly
    unit: "%"
    decimals: 1

  - id: us.gdp_qoq
    name: "US GDP QoQ"
    source: fred
    # A191RL1Q225SBEA = Real GDP growth rate, annualized (already a %)
    series_id: A191RL1Q225SBEA
    frequency: quarterly
    unit: "%"
    decimals: 1

  - id: us.yield_curve
    name: "10Y-2Y Spread"
    source: fred
    series_id: T10Y2Y
    frequency: daily
    unit: "bp"
    decimals: 0
    multiplier: 100  # Convert to basis points

  # ============================================
  # EUROZONE (via FRED - ECB/OECD sourced)
  # ============================================
  - id: eu.deposit_rate
    name: "ECB Deposit Rate"
    source: fred
    series_id: ECBDFR
    frequency: daily
    unit: "%"
    decimals: 2

  - id: eu.hicp_yoy
    name: "Eurozone HICP YoY"
    source: ecb
    dataflow: ICP
    series_key: M.U2.N.000000.4.ANR
    frequency: monthly
    unit: "%"
    decimals: 1

  - id: eu.unemployment
    name: "Eurozone Unemployment"
    source: fred
    series_id: LRHUTTTTEZM156S
    frequency: monthly
    unit: "%"
    decimals: 1

  # ============================================
  # GLOBAL (via FRED mirrors)
  # ============================================
  - id: global.brent
    name: "Brent Crude"
    source: fred
    series_id: DCOILBRENTEU
    frequency: daily
    unit: "$/bbl"
    decimals: 2

  - id: global.dxy
    name: "USD Trade Weighted"
    source: fred
    # DTWEXAFEGS = Trade Weighted USD vs Advanced Foreign Economies (closer to DXY)
    series_id: DTWEXAFEGS
    frequency: daily
    unit: "index"
    decimals: 1

  # ============================================
  # WORLD (via World Bank)
  # ============================================
  - id: world.gdp_growth
    name: "World GDP Growth"
    source: worldbank
    indicator: NY.GDP.MKTP.KD.ZG
    country: WLD
    frequency: annual
    unit: "%"
    decimals: 1

  # ============================================
  # CHINA (via FRED/OECD - authoritative international source)
  # ============================================
  - id: china.gdp_growth
    name: "China GDP Growth"
    source: fred
    # OECD Main Economic Indicators - China GDP growth rate YoY
    series_id: CHNGDPRAPSMEI
    frequency: annual
    unit: "%"
    decimals: 1

  - id: china.cpi_yoy
    name: "China CPI YoY"
    source: fred
    # OECD monthly CPI growth rate - more timely than World Bank annual
    series_id: CPALTT01CNM657N
    frequency: monthly
    unit: "%"
    decimals: 1

  # ============================================
  # CHINA (via IMF DataMapper - alternative authoritative source)
  # ============================================
  - id: china.gdp_growth_imf
    name: "China GDP Growth (IMF)"
    source: imf
    # IMF World Economic Outlook - Real GDP growth (annual percent change)
    indicator: NGDP_RPCH
    country: CHN
    frequency: annual
    unit: "%"
    decimals: 1

  - id: china.cpi_yoy_imf
    name: "China CPI YoY (IMF)"
    source: imf
    # IMF - Inflation, average consumer prices (annual percent change)
    indicator: PCPIPCH
    country: CHN
    frequency: annual
    unit: "%"
    decimals: 1

  - id: china.unemployment_imf
    name: "China Unemployment (IMF)"
    source: imf
    # IMF - Unemployment rate (percent of total labor force)
    indicator: LUR
    country: CHN
    frequency: annual
    unit: "%"
    decimals: 1

  - id: china.current_account_imf
    name: "China Current Account % GDP (IMF)"
    source: imf
    # IMF - Current account balance (percent of GDP)
    indicator: BCA_NGDPD
    country: CHN
    frequency: annual
    unit: "% GDP"
    decimals: 1

  # ============================================
  # JAPAN (via e-Stat Dashboard + FRED)
  # ============================================
  # e-Stat Dashboard: Official Japanese government statistics (NO AUTH REQUIRED)
  - id: japan.gdp_qoq
    name: "Japan GDP QoQ"
    source: estat_dashboard
    indicator_code: "0705020401000060000"  # Real GDP, annualized QoQ%, 2015 base, seasonally adjusted
    frequency: quarterly
    unit: "%"
    decimals: 1

  - id: japan.unemployment
    name: "Japan Unemployment"
    source: estat_dashboard
    indicator_code: "0301010000020020010"  # Complete unemployment rate (both sexes)
    frequency: monthly
    unit: "%"
    decimals: 1

  - id: japan.industrial_production
    name: "Japan Industrial Production"
    source: estat_dashboard
    indicator_code: "0502070301000090010"  # Mining & manufacturing production index, 2020 base
    frequency: monthly
    unit: "index"
    decimals: 1

  # FRED-sourced Japan data (for comparison/redundancy)
  - id: japan.policy_rate
    name: "BoJ Policy Rate"
    source: fred
    series_id: IRSTCB01JPM156N
    frequency: monthly
    unit: "%"
    decimals: 2

  - id: japan.cpi_yoy
    name: "Japan CPI YoY"
    source: fred
    series_id: JPNCPIALLMINMEI
    frequency: monthly
    unit: "%"
    decimals: 1
    transform: yoy_percent

  # ============================================
  # CRYPTO (via FRED - Coinbase data)
  # ============================================
  - id: crypto.bitcoin
    name: "Bitcoin"
    source: fred
    series_id: CBBTCUSD
    frequency: daily
    unit: "$"
    decimals: 0

  - id: crypto.ethereum
    name: "Ethereum"
    source: fred
    series_id: CBETHUSD
    frequency: daily
    unit: "$"
    decimals: 0

# Display groupings for dashboard layout
groups:
  - name: "US Economy"
    metrics: [us.fed_funds, us.cpi_yoy, us.core_cpi_yoy, us.unemployment, us.gdp_qoq, us.yield_curve]

  - name: "Eurozone"
    metrics: [eu.deposit_rate, eu.hicp_yoy, eu.unemployment]

  - name: "Asia Pacific"
    metrics: [china.gdp_growth, china.cpi_yoy, china.gdp_growth_imf, china.cpi_yoy_imf, china.unemployment_imf, china.current_account_imf, japan.gdp_qoq, japan.unemployment, japan.industrial_production, japan.policy_rate, japan.cpi_yoy]

  - name: "Global Markets"
    metrics: [global.brent, global.dxy]

  - name: "Crypto"
    metrics: [crypto.bitcoin, crypto.ethereum]
